<div class="flex min-h-screen flex-col bg-tttBlack text-tttWhite">
    <div class="relative z-50">
        <ttt-header></ttt-header>
    </div>

    <div class="flex flex-1 flex-col md:flex-row">
        <main class="flex-1">
            <router-outlet />
        </main>
        <nav class="order-first md:w-64 bg-tttGray-900 border-r border-tttGray-800">
            <div class="p-6">
                <h3 class="mb-4 text-lg font-bold text-tttWhite">{{ sidebarContent.left.title }}</h3>
                <div class="space-y-3">
                    <div class="rounded-lg bg-tttGray-800 p-3">
                        <p class="text-sm text-tttGray-300">{{ sidebarContent.left.description }}</p>
                    </div>
                </div>
            </div>
        </nav>
        <aside class="md:w-64 bg-tttGray-900 border-l border-tttGray-800">
            <div class="p-6">
                <h3 class="mb-4 text-lg font-bold text-tttWhite">
                    <i [class]="discordIcon.class"></i>
                    {{ sidebarContent.right.title }}
                </h3>
                <div class="space-y-3">
                    <!-- Discord Widget -->
                    <div class="rounded-lg bg-tttGray-800 border border-tttGray-700 overflow-hidden">
                        <iframe 
                            [src]="sanitizedDiscordUrl" 
                            width="100%" 
                            height="400" 
                            sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"
                            class="w-full border-0"
                            [title]="discordConfig.widgetTitle">
                        </iframe>
                    </div>
                    
                    <!-- Fallback Discord Link -->
                    <div class="rounded-lg bg-tttGray-800 border border-tttGray-700 p-4">
                        <div class="text-center">
                            <p class="text-sm text-tttGray-300 mb-3">{{ sidebarContent.right.fallback.message }}</p>
                            <a [href]="discordConfig.directUrl" 
                               target="_blank"
                               class="inline-flex items-center gap-2 rounded-lg bg-[#5865F2] px-4 py-2 text-sm font-medium text-white hover:bg-[#4752C4] transition-colors">
                                <i class="pi pi-discord"></i>
                                {{ sidebarContent.right.fallback.buttonText }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <ttt-footer></ttt-footer>
</div>
